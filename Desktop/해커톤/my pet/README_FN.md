# ğŸ¤– PetMedical.AI

ë°˜ë ¤ë™ë¬¼ ì‘ê¸‰ë„ í‰ê°€ë¥¼ ìœ„í•œ ë©€í‹°ì—ì´ì „íŠ¸ AI ì§„ë£Œ ì‹œìŠ¤í…œì´ë‹¤. 6ê°œì˜ ì „ë¬¸ AI ì—ì´ì „íŠ¸ê°€ ìˆœì°¨ì ìœ¼ë¡œ í˜‘ì—…í•˜ì—¬ ì¦ìƒ ë¶„ì„, ê°ë³„ì§„ë‹¨, ì‘ê¸‰ë„ íŒì •, í™ˆì¼€ì–´ ê°€ì´ë“œë¥¼ ì œê³µí•œë‹¤.

---

## âœ¨ í•µì‹¬ ê¸°ëŠ¥

### ğŸ“Š ë©€í‹°ì—ì´ì „íŠ¸ AI ì§„ë£Œ íŒŒì´í”„ë¼ì¸
6ê°œì˜ ì „ë¬¸ ì—ì´ì „íŠ¸ê°€ ìˆœì°¨ì ìœ¼ë¡œ ì§„ë£Œë¥¼ ìˆ˜í–‰í•œë‹¤. CS Agentê°€ ì¦ìƒì„ ì ‘ìˆ˜í•˜ê³ , Information Agentê°€ ì¶”ê°€ ë¬¸ì§„ì„ ì§„í–‰í•˜ë©°, Medical Agentê°€ ê°ë³„ì§„ë‹¨ì„ ìˆ˜í–‰í•œë‹¤. Triage Engineì´ ì‘ê¸‰ë„ë¥¼ 0~5ì ìœ¼ë¡œ ì ìˆ˜í™”í•˜ê³ , Ops Agentê°€ ì§„ë‹¨ì„œë¥¼ ìƒì„±í•˜ë©°, Care Agentê°€ í™ˆì¼€ì–´ í”Œëœì„ ì‘ì„±í•œë‹¤.

### ğŸ”„ í˜‘ì§„ ì‹œìŠ¤í…œ (Collaborative Diagnosis)
ë‹¤ì¤‘ AI ëª¨ë¸ì´ êµì°¨ ê²€ì¦ì„ ìˆ˜í–‰í•˜ì—¬ ì§„ë‹¨ ì •í™•ë„ë¥¼ ë†’ì¸ë‹¤. Medical Agentì™€ Triage Engineì˜ ê²°ê³¼ë¥¼ ë¹„êµí•˜ì—¬ ë¶ˆì¼ì¹˜ë¥¼ ê°ì§€í•˜ê³ , ë¶ˆì¼ì¹˜ ë°œìƒ ì‹œ ë³´ìˆ˜ì ìœ¼ë¡œ ë†’ì€ ìœ„í—˜ë„ë¥¼ ì±„íƒí•œë‹¤. ìµœì¢… ì‹ ë¢°ë„ ì ìˆ˜ë¥¼ ì‚°ì¶œí•˜ì—¬ ì§„ë‹¨ ê²°ê³¼ì˜ ì‹ ë¢°ì„±ì„ ì œê³µí•œë‹¤.

### ğŸ›¡ï¸ ì‘ê¸‰ë„ ìë™ íŒì • ì‹œìŠ¤í…œ
5ë‹¨ê³„ ì‘ê¸‰ë„ ì²´ê³„ë¡œ ê¸´ê¸‰ì„±ì„ ë¶„ë¥˜í•œë‹¤. 0~1ì (GREEN)ì€ í™ˆì¼€ì–´ë¡œ ì¶©ë¶„, 2ì (YELLOW)ì€ ì•…í™” ì‹œ ë³‘ì› ë°©ë¬¸, 3~4ì (ORANGE)ì€ 24ì‹œê°„ ë‚´ ë°©ë¬¸, 5ì (RED)ì€ ì¦‰ì‹œ ë³‘ì› ë°©ë¬¸ì´ í•„ìš”í•œ ì‘ê¸‰ ìƒí™©ì´ë‹¤. ìƒ‰ìƒê³¼ ì ìˆ˜ë¡œ ë³´í˜¸ìê°€ ì§ê´€ì ìœ¼ë¡œ ìƒí™©ì„ íŒŒì•…í•  ìˆ˜ ìˆë‹¤.

---

## ğŸ¤– AI ê¸°ìˆ  í™œìš©

### ë©€í‹°ì—ì´ì „íŠ¸ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
6ê°œì˜ ì „ë¬¸ ì—ì´ì „íŠ¸ê°€ íŒŒì´í”„ë¼ì¸ ë°©ì‹ìœ¼ë¡œ ìˆœì°¨ ì‹¤í–‰ëœë‹¤. ê° ì—ì´ì „íŠ¸ëŠ” ì´ì „ ë‹¨ê³„ì˜ structured_dataë¥¼ ì…ë ¥ë°›ì•„ ì²˜ë¦¬í•˜ê³ , ë‹¤ìŒ ì—ì´ì „íŠ¸ì— ì „ë‹¬í•œë‹¤. Root Orchestratorê°€ ì „ì²´ ì›Œí¬í”Œë¡œìš°ë¥¼ ì¡°ìœ¨í•˜ë©°, TRD(Tool Request Discipline) ê·œì¹™ì— ë”°ë¼ ê° ë‹¨ê³„ì—ì„œ ì •í™•íˆ í•˜ë‚˜ì˜ ë„êµ¬ë§Œ í˜¸ì¶œí•˜ì—¬ ì•ˆì •ì„±ì„ ë³´ì¥í•œë‹¤. ìƒíƒœ ê¸°ë°˜ ì¡°ê±´ë¬¸ìœ¼ë¡œ ê° ë‹¨ê³„ì˜ ì™„ë£Œ ì—¬ë¶€ë¥¼ í™•ì¸í•˜ê³  ìˆœì°¨ì ìœ¼ë¡œ ì§„í–‰í•œë‹¤.

### ë™ì  ëª¨ë¸ ë¼ìš°íŒ… (Dynamic Model Router)
ìƒí™©ë³„ë¡œ ìµœì ì˜ AI ëª¨ë¸ì„ ìë™ ì„ íƒí•˜ì—¬ ë¹„ìš©ì„ ì ˆê°í•œë‹¤. ì‘ê¸‰ ìƒí™©(ì¶œí˜ˆ, ê²½ë ¨, í˜¸í¡ê³¤ë€)ì—ëŠ” Claude Sonnet 4ë¥¼ ì‚¬ìš©í•˜ê³ , ì´ë¯¸ì§€ ë¶„ì„ì´ í•„ìš”í•œ ê²½ìš° GPT-4o Visionì„ ì‚¬ìš©í•œë‹¤. ì¼ë°˜ ë¬¸ì˜ì—ëŠ” GPT-4o-minië¥¼ ì‚¬ìš©í•˜ì—¬ ë¹„ìš© íš¨ìœ¨ì„±ì„ ë†’ì¸ë‹¤. ê·œì¹™ ê¸°ë°˜ ë¼ìš°íŒ…ìœ¼ë¡œ ì›”ê°„ API ë¹„ìš©ì´ $5,000ì—ì„œ $1,990ìœ¼ë¡œ ì•½ 60% ì ˆê°ë˜ì—ˆë‹¤.

### í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§ ìµœì í™”
ê° ì—ì´ì „íŠ¸ëŠ” ì—­í•  ê¸°ë°˜ í”„ë¡¬í”„íŠ¸(Role-based Prompting)ë¥¼ ì‚¬ìš©í•œë‹¤. Medical AgentëŠ” "ê²½ë ¥ 10ë…„ ì´ìƒì˜ ìˆ˜ì˜ì‚¬"ë¡œ ì„¤ì •ë˜ì–´ ê·¼ê±° ì¤‘ì‹¬ ì§„ë‹¨ì„ ìˆ˜í–‰í•œë‹¤. temperature=0.1~0.2ë¡œ ì„¤ì •í•˜ì—¬ ì¼ê´€ëœ ì˜ë£Œ ë¶„ì„ì„ ë³´ì¥í•œë‹¤. ì¢…(species) íŠ¹í™” ì§€ì‹œë¬¸ì„ í¬í•¨í•˜ì—¬ ê°•ì•„ì§€, ê³ ì–‘ì´, í† ë¼ ë“± 7ì¢… ë°˜ë ¤ë™ë¬¼ì— ëŒ€í•´ ë§ì¶¤í˜• ì§„ë‹¨ì„ ì œê³µí•œë‹¤. JSON ìŠ¤í‚¤ë§ˆë¥¼ ëª…ì‹œí•˜ì—¬ íŒŒì‹± ì˜¤ë¥˜ë¥¼ ë°©ì§€í•œë‹¤.

### ë©€í‹°ëª¨ë‹¬ ë¹„ì „ ë¶„ì„
GPT-4o Visionì„ í™œìš©í•˜ì—¬ ë°˜ë ¤ë™ë¬¼ ì‚¬ì§„ì„ ë¶„ì„í•œë‹¤. ìƒì²˜, ë¶€ì¢…, í”¼ë¶€ ë¬¸ì œ, ì•ˆêµ¬ ì´ìƒ, ìì„¸ ì´ìƒ, ì‹œê°ì  ê³ í†µ ì‹ í˜¸ 6ê°€ì§€ ì¹´í…Œê³ ë¦¬ë¡œ êµ¬ì¡°í™”ëœ ë¶„ì„ ê²°ê³¼ë¥¼ ë°˜í™˜í•œë‹¤. ì´ë¯¸ì§€ URL ê¸°ë°˜ìœ¼ë¡œ ì²˜ë¦¬í•˜ë©°, ë¶„ì„ ê²°ê³¼ëŠ” Medical Agentì˜ ê°ë³„ì§„ë‹¨ì— ì¶”ê°€ ì»¨í…ìŠ¤íŠ¸ë¡œ ì œê³µëœë‹¤.

---

## ğŸ’¡ í•µì‹¬ ì½”ë“œ ë¸”ë¡

### 1. í˜‘ì§„ ì‹œìŠ¤í…œ - ë‹¤ì¤‘ AI ë¶ˆì¼ì¹˜ ê²€ì¶œ ì•Œê³ ë¦¬ì¦˜
Medical Agentì™€ Triage Engineì˜ ì§„ë‹¨ ê²°ê³¼ë¥¼ ë¹„êµí•˜ì—¬ ë¶ˆì¼ì¹˜ë¥¼ ìë™ìœ¼ë¡œ ê°ì§€í•œë‹¤.

```javascript
// collaborativeDiagnosis.js - ë¶ˆì¼ì¹˜ ê²€ì¶œ
export const detectDiscrepancies = (medicalResult, triageResult) => {
  const discrepancies = [];

  // ìœ„í—˜ë„ ë§¤í•‘ í…Œì´ë¸”
  const riskMapping = {
    'low': ['green', 'yellow'],
    'moderate': ['yellow', 'orange'],
    'high': ['orange', 'red'],
    'emergency': ['red']
  };

  const expectedTriageLevels = riskMapping[medicalResult.risk_level] || ['yellow'];

  // 1. ìœ„í—˜ë„ ë¶ˆì¼ì¹˜ ê²€ì‚¬
  if (!expectedTriageLevels.includes(triageResult.triage_level)) {
    discrepancies.push({
      type: 'risk_level_mismatch',
      severity: 'high',
      description: `Medical AgentëŠ” ${medicalResult.risk_level}ë¡œ í‰ê°€í–ˆì§€ë§Œ,
                    Triage Engineì€ ${triageResult.triage_level}ë¡œ í‰ê°€í–ˆìŠµë‹ˆë‹¤.`
    });
  }

  // 2. ì‘ê¸‰ë„ ì ìˆ˜ì™€ ì§„ë‹¨ ë¶ˆì¼ì¹˜
  if ((medicalResult.risk_level === 'emergency' || medicalResult.risk_level === 'high')
      && triageResult.triage_score < 3) {
    discrepancies.push({
      type: 'emergency_score_mismatch',
      severity: 'critical'
    });
  }

  return {
    has_discrepancies: discrepancies.length > 0,
    needs_review: discrepancies.some(d => d.severity === 'critical' || d.severity === 'high')
  };
};
```

### 2. íˆ¬í‘œ ê¸°ë°˜ í•©ì˜ ë„ì¶œ (ì•ˆì „ ìš°ì„  ì›ì¹™)
ì—¬ëŸ¬ AI ëª¨ë¸ì˜ ì˜ê²¬ì„ íˆ¬í‘œë¡œ ì¢…í•©í•˜ê³ , ë¶ˆí™•ì‹¤í•  ë•ŒëŠ” ë†’ì€ ìœ„í—˜ë„ë¥¼ ì±„íƒí•œë‹¤.

```javascript
// collaborativeDiagnosis.js - í•©ì˜ ë„ì¶œ
export const generateConsensus = (medicalResult, triageResult, reviewResult, secondOpinion, discrepancyAnalysis) => {
  // ìœ„í—˜ë„ íˆ¬í‘œ ìˆ˜ì§‘
  const riskVotes = [
    medicalResult.risk_level,
    triageResult.triage_level,
    reviewResult?.recommended_risk_level,
    secondOpinion?.risk_assessment
  ].filter(Boolean);

  // ê°€ì¥ ë†’ì€ ìœ„í—˜ë„ ì±„íƒ (ì•ˆì „ ìš°ì„  ì›ì¹™)
  const riskHierarchy = ['emergency', 'high', 'moderate', 'low'];
  const finalRisk = riskHierarchy.find(level =>
    riskVotes.map(normalizeRisk).includes(level)
  ) || 'moderate';

  // ë¶ˆì¼ì¹˜ê°€ ìˆìœ¼ë©´ ì•ˆì „ì„ ìœ„í•´ ì ìˆ˜ ìƒí–¥
  let finalTriageScore = calculateAverageScore(triageResult, reviewResult);
  if (discrepancyAnalysis.critical_count > 0) {
    finalTriageScore = Math.min(5, finalTriageScore + 1);
  }

  // ì‹ ë¢°ë„ ê³„ì‚° (ë¶ˆì¼ì¹˜ ì‹œ ê°ì†Œ)
  const confidence = discrepancyAnalysis.has_discrepancies
    ? (1 - (discrepancyAnalysis.discrepancy_count * 0.1))
    : 0.95;

  return {
    final_risk_level: finalRisk,
    final_triage_score: finalTriageScore,
    confidence_score: Math.max(0.5, Math.min(0.98, confidence))
  };
};
```

### 3. ë³´í˜¸ì ë¬¸ì§„ ê¸°ë°˜ ì‘ê¸‰ë„ ë™ì  ì¡°ì •
ë³´í˜¸ìì˜ ì¶”ê°€ ë‹µë³€ì„ ë¶„ì„í•˜ì—¬ ì‘ê¸‰ë„ ì ìˆ˜ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ ìƒí–¥ ì¡°ì •í•œë‹¤.

```javascript
// triageEngine.js - í”„ë¡¬í”„íŠ¸ ë‚´ ë™ì  ì¡°ì • ê·œì¹™
const userPrompt = `
â˜…â˜…â˜… ë³´í˜¸ì ì¶”ê°€ ë¬¸ì§„ ì‘ë‹µ (ë§¤ìš° ì¤‘ìš” - ì‘ê¸‰ë„ í‰ê°€ì— ë°˜ë“œì‹œ ë°˜ì˜) â˜…â˜…â˜…
${symptomData.guardianResponsesSummary}

ì£¼ì˜: ìœ„ ë³´í˜¸ì ë¬¸ì§„ ê²°ê³¼ì—ì„œ ë‹¤ìŒ ì¡°ê±´ì´ í•´ë‹¹ë˜ë©´ triage_scoreë¥¼ ìƒí–¥ ì¡°ì •í•˜ì„¸ìš”:
- ì¦ìƒ ì§€ì† ê¸°ê°„ì´ "ì¼ì£¼ì¼ ì´ìƒ"ì´ë©´ +1
- ì‹ìš•ì´ "ê±°ì˜ ì•ˆ ë¨¹ìŒ" ë˜ëŠ” "ì „í˜€ ì•ˆ ë¨¹ìŒ"ì´ë©´ +1
- í™œë™ëŸ‰ì´ "ê±°ì˜ ì›€ì§ì´ì§€ ì•ŠìŒ"ì´ë©´ +1
- ë™ë°˜ ì¦ìƒì— "í˜¸í¡ê³¤ë€", "ë°œì—´"ì´ ìˆìœ¼ë©´ +2
`;
```

### 4. ë©€í‹°ì—ì´ì „íŠ¸ íŒŒì´í”„ë¼ì¸ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
6ê°œ ì—ì´ì „íŠ¸ë¥¼ ìˆœì°¨ ì‹¤í–‰í•˜ê³  ì‹¤ì‹œê°„ ë¡œê·¸ë¥¼ UIì— ì „ë‹¬í•œë‹¤.

```javascript
// agentOrchestrator.js - íŒŒì´í”„ë¼ì¸ ì‹¤í–‰
export const runMultiAgentDiagnosis = async (petData, symptomData, onLogReceived, onWaitForGuardianResponse) => {
  // 1. CS Agent â†’ ì ‘ìˆ˜
  onLogReceived({ agent: 'CS Agent', icon: 'ğŸ¥', content: 'ì§„ë£Œ ì ‘ìˆ˜ ì‹œì‘...' });
  csResult = await callCSAgent(petData, symptomData);

  // 2. Information Agent â†’ ì¶”ê°€ ë¬¸ì§„ + ë³´í˜¸ì ì‘ë‹µ ëŒ€ê¸°
  infoResult = await callInformationAgent(petData, symptomData, csResult.json);
  guardianResponses = await onWaitForGuardianResponse(questions);  // ì¸í„°ë™í‹°ë¸Œ ë¬¸ì§„

  // 3. Medical Agent â†’ ê°ë³„ì§„ë‹¨ (ì´ì „ ê²°ê³¼ë¥¼ ì»¨í…ìŠ¤íŠ¸ë¡œ ì „ë‹¬)
  medicalResult = await callMedicalAgent(petData, enrichedSymptomData, csResult.json, infoResult.json);

  // 4. Triage Engine â†’ ì‘ê¸‰ë„ ì ìˆ˜í™”
  triageResult = await calculateTriageScore(petData, enrichedSymptomData, medicalResult.json, csResult.json);

  // 5. Collaborative Diagnosis â†’ êµì°¨ ê²€ì¦
  collaborationResult = await runCollaborativeDiagnosis(petData, symptomData, medicalResult.json, triageResult, infoResult.json);

  // í˜‘ì§„ ê²°ê³¼ë¡œ ìµœì¢… ì§„ë‹¨ ì—…ë°ì´íŠ¸
  if (collaborationResult.consensus) {
    triageResult.triage_score = collaborationResult.consensus.final_triage_score;
    medicalResult.json.risk_level = collaborationResult.consensus.final_risk_level;
  }

  // 6. Ops Agent + Care Agent â†’ ì§„ë‹¨ì„œ ë° í™ˆì¼€ì–´ í”Œëœ ìƒì„±
  opsResult = await callOpsAgent(...);
  careResult = await callCareAgent(...);

  return { logs, finalDiagnosis };
};
```

### 5. Claude ê¸°ë°˜ Senior Reviewer êµì°¨ ê²€ì¦
ë…ë¦½ì ì¸ Claude ëª¨ë¸ì´ ë‹¤ë¥¸ ì—ì´ì „íŠ¸ë“¤ì˜ ì§„ë‹¨ì„ ê²€í† í•˜ê³  ìµœì¢… ì˜ê²¬ì„ ì œì‹œí•œë‹¤.

```javascript
// collaborativeDiagnosis.js - êµì°¨ ê²€ì¦
export const crossValidateDiagnosis = async (petData, symptomData, medicalResult, triageResult, infoResult) => {
  const systemPrompt = `ë‹¹ì‹ ì€ "Senior Veterinarian Reviewer (ìˆ˜ì„ ìˆ˜ì˜ì‚¬ ê²€í† íŒ€)"ì…ë‹ˆë‹¤.

[ì—­í• ]
- Medical Agentì™€ Triage Agentì˜ ì§„ë‹¨ ê²°ê³¼ë¥¼ ë…ë¦½ì ìœ¼ë¡œ ê²€í† í•©ë‹ˆë‹¤.
- ë‘ ì—ì´ì „íŠ¸ì˜ ì˜ê²¬ì´ ì¼ì¹˜í•˜ëŠ”ì§€, ë¶ˆì¼ì¹˜ê°€ ìˆë‹¤ë©´ ì–´ëŠ ìª½ì´ ë” íƒ€ë‹¹í•œì§€ í‰ê°€í•©ë‹ˆë‹¤.
- ëˆ„ë½ëœ ì¤‘ìš”í•œ ì†Œê²¬ì´ë‚˜ ê³¼ì‰ ì§„ë‹¨ ì—¬ë¶€ë¥¼ í™•ì¸í•©ë‹ˆë‹¤.

[ì›ì¹™]
- ë³´ìˆ˜ì ì´ê³  ì‹ ì¤‘í•œ ì ‘ê·¼: ë¶ˆí™•ì‹¤í•˜ë©´ ë³‘ì› ë°©ë¬¸ì„ ê¶Œì¥
- ì—ì´ì „íŠ¸ ê°„ ë¶ˆì¼ì¹˜ê°€ ìˆì„ ë•ŒëŠ” ë” ë†’ì€ ìœ„í—˜ë„ë¥¼ ì±„íƒ`;

  const response = await fetch('https://api.anthropic.com/v1/messages', {
    body: JSON.stringify({
      model: 'claude-sonnet-4-20250514',
      temperature: 0.3,  // ë‚®ì€ temperatureë¡œ ì¼ê´€ì„± í™•ë³´
      system: systemPrompt,
      messages: [{ role: 'user', content: userPrompt }]
    })
  });

  return JSON.parse(response.content);
};
```

### 6. GPT-4o 2ì°¨ ì˜ê²¬ (ë‹¤ë¥¸ ëª¨ë¸ ê´€ì )
Claude ê¸°ë°˜ ì—ì´ì „íŠ¸ë“¤ì˜ ì§„ë‹¨ì„ GPT-4oê°€ ë…ë¦½ì ìœ¼ë¡œ ê²€í† í•˜ì—¬ ë‹¤ë¥¸ ê´€ì ì„ ì œê³µí•œë‹¤.

```javascript
// collaborativeDiagnosis.js - 2ì°¨ ì˜ê²¬ (ë¶ˆì¼ì¹˜ ë˜ëŠ” ê³ ìœ„í—˜ ì‹œì—ë§Œ í˜¸ì¶œ)
export const getSecondOpinion = async (petData, symptomData, medicalResult, triageResult, reviewResult) => {
  const systemPrompt = `ë‹¹ì‹ ì€ "Second Opinion Specialist (ì œ2 ì˜ê²¬ ì „ë¬¸ì˜)"ì…ë‹ˆë‹¤.

[ì—­í• ]
- Claude ê¸°ë°˜ ì—ì´ì „íŠ¸ë“¤ì´ ë†“ì³¤ì„ ìˆ˜ ìˆëŠ” ê´€ì ì„ ì œì‹œí•©ë‹ˆë‹¤.
- ìµœì¢… ì§„ë‹¨ì˜ ì‹ ë¢°ë„ë¥¼ ë†’ì´ëŠ” ë° ê¸°ì—¬í•©ë‹ˆë‹¤.`;

  // ë¶ˆì¼ì¹˜ê°€ ìˆê±°ë‚˜ ìœ„í—˜ë„ê°€ ë†’ì„ ë•Œë§Œ 2ì°¨ ì˜ê²¬ ìš”ì²­ (ë¹„ìš© ìµœì í™”)
  if (discrepancyAnalysis.needs_review || medicalResult.risk_level === 'high') {
    const response = await fetch('https://api.openai.com/v1/chat/completions', {
      body: JSON.stringify({
        model: 'gpt-4o',
        temperature: 0.3,
        messages: [{ role: 'system', content: systemPrompt }, { role: 'user', content: userPrompt }]
      })
    });
    return JSON.parse(response.choices[0].message.content);
  }
  return null;
};
```

---

## ğŸ—ï¸ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ì‚¬ìš©ì (ë³´í˜¸ì)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Frontend (React + Vite)                       â”‚
â”‚                   GitHub Pages ë°°í¬                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ REST API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Backend (FastAPI + LangChain)                 â”‚
â”‚                   Railway/Render ë°°í¬                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               ë©€í‹°ì—ì´ì „íŠ¸ íŒŒì´í”„ë¼ì¸                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚ CS Agent â”‚â†’ â”‚  Info    â”‚â†’ â”‚ Medical  â”‚â†’ â”‚ Triage   â”‚         â”‚
â”‚  â”‚ (Gemini) â”‚  â”‚  Agent   â”‚  â”‚  Agent   â”‚  â”‚  Engine  â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ (Gemini) â”‚  â”‚ (Claude) â”‚  â”‚ (Claude) â”‚         â”‚
â”‚                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                    â†“                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚   Care   â”‚â† â”‚   Ops    â”‚â† â”‚ Collab   â”‚                       â”‚
â”‚  â”‚  Agent   â”‚  â”‚  Agent   â”‚  â”‚ Diagnosisâ”‚                       â”‚
â”‚  â”‚ (Gemini) â”‚  â”‚ (Claude) â”‚  â”‚ (Claude) â”‚                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Firebase (Firestore + Storage)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ê¸°ìˆ  ìŠ¤íƒ
- **Frontend**: React 18.2.0, Vite 5.0.8
- **Backend**: Python 3.11, FastAPI, LangChain
- **Database**: Firebase Firestore, Cloud Storage
- **AI Models**: Claude Sonnet 4, GPT-4o, GPT-4o-mini, Gemini 2.0 Flash, Gemini 1.5 Pro
- **Deploy**: GitHub Pages (Frontend), Railway/Render (Backend)

---

## ğŸ“‚ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
ai-factory/                          # Frontend Repository
â”œâ”€â”€ Desktop/í•´ì»¤í†¤/my pet/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ services/ai/
â”‚   â”‚   â”‚   â”œâ”€â”€ csAgent.js           # CS Agent (Gemini Flash)
â”‚   â”‚   â”‚   â”œâ”€â”€ informationAgent.js  # Information Agent (Gemini)
â”‚   â”‚   â”‚   â”œâ”€â”€ medicalAgent.js      # Medical Agent (Claude)
â”‚   â”‚   â”‚   â”œâ”€â”€ triageEngine.js      # Triage Engine (Claude)
â”‚   â”‚   â”‚   â”œâ”€â”€ opsAgent.js          # Ops Agent (Claude)
â”‚   â”‚   â”‚   â”œâ”€â”€ careAgent.js         # Care Agent (Gemini)
â”‚   â”‚   â”‚   â”œâ”€â”€ collaborativeDiagnosis.js  # í˜‘ì§„ ì‹œìŠ¤í…œ
â”‚   â”‚   â”‚   â””â”€â”€ agentOrchestrator.js # ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°
â”‚   â”‚   â”œâ”€â”€ components/              # React UI ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â””â”€â”€ lib/                     # Firebase ì„¤ì •
â”‚   â”œâ”€â”€ App.jsx                      # ë©”ì¸ ì•± (8800ì¤„)
â”‚   â”œâ”€â”€ package.json
â”‚   â””â”€â”€ vite.config.js
â”‚
multi-agent/                         # Backend Repository
â”œâ”€â”€ petcare_advisor/
â”‚   â”œâ”€â”€ src/petcare_advisor/
â”‚   â”‚   â”œâ”€â”€ agents/
â”‚   â”‚   â”‚   â”œâ”€â”€ root_orchestrator.py # ì „ì²´ ì›Œí¬í”Œë¡œìš° ì¡°ìœ¨
â”‚   â”‚   â”‚   â”œâ”€â”€ symptom_intake.py    # ì¦ìƒ ìˆ˜ì§‘
â”‚   â”‚   â”‚   â”œâ”€â”€ vision_agent.py      # ì´ë¯¸ì§€ ë¶„ì„
â”‚   â”‚   â”‚   â”œâ”€â”€ medical_agent.py     # ì˜ë£Œ ë¶„ì„
â”‚   â”‚   â”‚   â”œâ”€â”€ triage_agent.py      # ì‘ê¸‰ë„ íŒì •
â”‚   â”‚   â”‚   â””â”€â”€ careplan_agent.py    # ì¼€ì–´í”Œëœ ìƒì„±
â”‚   â”‚   â”œâ”€â”€ tools/                   # report_builder, persistence
â”‚   â”‚   â”œâ”€â”€ config.py                # ì„¤ì • ê´€ë¦¬
â”‚   â”‚   â””â”€â”€ main.py                  # FastAPI ì§„ì…ì 
â”‚   â””â”€â”€ requirements.txt
```

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. ì‚¬ì „ ì¤€ë¹„
- Node.js 18+
- Python 3.11+
- Google AI Studio ê³„ì • (Gemini API)
- OpenAI ê³„ì • (GPT-4o API)
- Anthropic ê³„ì • (Claude API)
- Firebase í”„ë¡œì íŠ¸

### 2. Frontend ì„¤ì •
```bash
cd ai-factory/Desktop/í•´ì»¤í†¤/my\ pet
cp .env.example .env
# .env íŒŒì¼ì— API í‚¤ ì„¤ì •
npm install
npm run dev
```

### 3. Backend ì„¤ì •
```bash
cd multi-agent/petcare_advisor
pip install -r requirements.txt
cp .env.example .env
# .env íŒŒì¼ì— API í‚¤ ì„¤ì •
uvicorn src.petcare_advisor.main:app --reload
```

### 4. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
```bash
# AI API Keys
VITE_GEMINI_API_KEY=your_gemini_api_key
VITE_OPENAI_API_KEY=your_openai_api_key
VITE_ANTHROPIC_API_KEY=your_anthropic_api_key

# Firebase
VITE_FIREBASE_API_KEY=your_firebase_api_key
VITE_FIREBASE_PROJECT_ID=your_project_id

# Backend
VITE_BACKEND_API_URL=http://localhost:8000
```

---

## ğŸ” ë³´ì•ˆ

- API í‚¤ëŠ” í™˜ê²½ ë³€ìˆ˜ë¡œë§Œ ê´€ë¦¬í•˜ë©° ì½”ë“œì— í•˜ë“œì½”ë”©í•˜ì§€ ì•ŠëŠ”ë‹¤
- í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ë°±ì—”ë“œ APIë¥¼ í†µí•´ AI ëª¨ë¸ì„ í˜¸ì¶œí•œë‹¤
- Firebase Security Rulesë¡œ ì‚¬ìš©ìë³„ ë°ì´í„° ì ‘ê·¼ì„ ì œí•œí•œë‹¤
- CORS ì„¤ì •ìœ¼ë¡œ í—ˆìš©ëœ ë„ë©”ì¸ë§Œ API ì ‘ê·¼ì„ í—ˆìš©í•œë‹¤
- ì˜ë£Œ ì •ë³´ëŠ” Firebase Firestoreì— ì•”í˜¸í™”í•˜ì—¬ ì €ì¥í•œë‹¤

---

## ğŸ“ API ì—”ë“œí¬ì¸íŠ¸

| Method | Endpoint | ì„¤ëª… |
|--------|----------|------|
| GET | `/health` | ì„œë²„ ìƒíƒœ í™•ì¸ |
| POST | `/api/triage` | AI ì§„ë£Œ ìš”ì²­ |
| POST | `/api/question` | í›„ì† ì§ˆë¬¸ ì²˜ë¦¬ |

### /api/triage ìš”ì²­ ì˜ˆì‹œ
```json
{
  "symptom_text": "ê°•ì•„ì§€ê°€ ì–´ì œë¶€í„° êµ¬í† ë¥¼ í•´ìš”",
  "species": "dog",
  "age": "3ì„¸",
  "images": ["https://..."]
}
```

---

## ğŸ¤ ê¸°ì—¬

1. ì´ ì €ì¥ì†Œë¥¼ Forkí•œë‹¤
2. ê¸°ëŠ¥ ë¸Œëœì¹˜ë¥¼ ìƒì„±í•œë‹¤ (`git checkout -b feature/AmazingFeature`)
3. ë³€ê²½ì‚¬í•­ì„ ì»¤ë°‹í•œë‹¤ (`git commit -m 'Add AmazingFeature'`)
4. ë¸Œëœì¹˜ì— Pushí•œë‹¤ (`git push origin feature/AmazingFeature`)
5. Pull Requestë¥¼ ìƒì„±í•œë‹¤

---

## ğŸ“„ ë¼ì´ì„ ìŠ¤

MIT License

---

## ğŸ“ ì§€ì›

- **Frontend Repository**: https://github.com/ksy070822/ai-factory
- **Backend Repository**: https://github.com/ksy070822/multi-agent
- **Issues**: GitHub Issuesë¥¼ í†µí•´ ë²„ê·¸ ë¦¬í¬íŠ¸ ë° ê¸°ëŠ¥ ìš”ì²­

---

**Made with â¤ï¸ by PetMedical.AI Team**
